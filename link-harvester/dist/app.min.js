!function(){"use strict";function e(e){var t=e.nextElementSibling,n=e.files[0],i=new FileReader,s=document.getElementById("html-text"),a=document.getElementById("removeButton");n&&(i.onload=function(e){var t=e.target.result;s.value=t},i.readAsText(n,"UTF-8"),t.classList.remove("button--info"),t.classList.add("button--success"),t.textContent="Change file",s.setAttribute("disabled","true"),a.classList.remove("is-hidden"),a.textContent="Remove "+n.name)}function t(e){var t=e.previousElementSibling,n=document.getElementById("html-file"),i=document.getElementById("html-text");t.classList.remove("button--success"),t.classList.add("button--info"),t.innerHTML='<i class="fa fa-upload" aria-hidden="true"></i> Upload an HTML file',n.value="",i.value="",i.removeAttribute("disabled"),e.classList.add("is-hidden")}function n(){var e,t=/(<a[\s\w="?:/.@-]*>)([\w\s.,;:-])+<\/a>/gi,n={links:[],emailAddresses:[]};(e=document.getElementById("html-text").value.match(t))&&(e.forEach(function(e){var t=e.match(/((https*:\/\/)[\w=?:/.@-]+)|(mailto:[\w@.-]+)/gi),i=e.match(/(?!>)([\w\s.,;:-]+)(?=<\/a>)/gi);if(t){if(t[0].match(/((https*:\/\/)[\w=?:/.@-]+)/gi)){var s={url:t[0],text:i[0]};n.links.push(s)}t[0].match(/(mailto:[\w@.-]+)/gi)&&n.emailAddresses.push(t[0])}}),i(n))}function i(e){var t='<ul class="links">',n=document.getElementById("results"),i=n.querySelector(".module__content");if(0===e.links.length&&0===e.emailAddresses.length)return i.innerHTML='<div class="error">Sorry, there are no external links or email addresses!</div>',void n.classList.remove("is-hidden");e.links.forEach(function(e){t+="<li><strong>"+e.text+'</strong>: <a href="'+e.url+'">'+e.url+"</a>"}),e.emailAddresses.forEach(function(e){t+='<li><a href="'+e+'">'+e+"</a>"}),i.innerHTML=t+"</ul>",n.classList.remove("is-hidden")}document.addEventListener("change",function(t){var n=t.target.closest("input");n&&"html-file"===n.getAttribute("id")&&e(n)}),document.addEventListener("click",function(e){var i=e.target.closest("button")||e.target.closest("input");i&&("removeButton"===i.getAttribute("id")&&t(i),"submit"===i.getAttribute("id")&&(e.preventDefault(),n()))})}();