!function(e){"use strict";function t(e){e.preventDefault();var t=e.target,a=e.dataTransfer.getData("text");a=document.getElementById(a),t.appendChild(a),t.dataset.piece?a.classList.remove("p-5"):a.classList.add("p-5"),function(e,t){var a=t.dataset.image;e.dataset.piece===a?l[a]=!0:l[a]=!1}(t,a),0===document.getElementById("puzzlePieces").children.length&&i()}function a(e){document.getElementById("puzzle");var t,a=document.getElementById("solvedPuzzle"),n=document.querySelector("main"),r=document.getElementById("beginPanel"),i=document.getElementById("hintButton");a.classList.add("hidden"),r.classList.add("none"),n.classList.add("grid"),function(){var e=document.getElementById("puzzlePieces"),t=document.createDocumentFragment();(function(){for(var e=[],t=5;t<=45;t++)e.push({id:t,source:"dist/images/Group "+t+".png"});return function(e){var t,a=[];for(;e.length>0;)t=Math.floor(Math.random()*e.length),a.push(e[t]),e.splice(t,1);return a}(e)})().forEach(e=>{var a=document.createElement("img");a.setAttribute("src",e.source),a.setAttribute("id","piece"+e.id),a.setAttribute("draggable","true"),a.setAttribute("ondragstart","dragStartHandler(event)"),a.dataset.image=e.id,a.classList.add("p-5","trs-o"),t.appendChild(a)}),e.appendChild(t),setTimeout(()=>{e.classList.add("slide-in")},500),function(){for(var e=5;e<=45;e++)l[e]=void 0}()}(),function(){var e=document.querySelectorAll('input[type="radio"]'),t=Date.parse(new Date);for(const a of e)if(a.checked)return u=a.dataset.hints,o=new Date(t+60*parseInt(a.dataset.time)*1e3)}(),d(),c=setInterval(d,1e3),t=1!==u?u+" Hints":u+" Hint",i.textContent=t}function n(e){var t=document.getElementById("solvedPuzzle"),a=document.querySelector("main"),n=document.getElementById("beginPanel"),r=document.getElementById("puzzlePieces");t.classList.remove("hidden"),n.classList.remove("none"),a.classList.remove("grid"),r.classList.remove("slide-in"),e.forEach(e=>{e.parentElement.removeChild(e)})}function r(e){var t=Date.parse(e)-Date.parse(new Date);return{total:t,minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}}function d(){var e=document.getElementById("timer"),t=r(o);if(e.innerHTML=t.minutes+":"+("0"+t.seconds).slice(-2),t.total<=0)return clearInterval(c),i()}function i(){var e=document.getElementById("gameOver"),t=document.getElementById("gameOverMessage"),a="",n=r(o).total;for(const e in l)if(!l[e]){if(n>0)return function(){for(const t in l){var e=document.querySelector('[data-piece="'+t+'"]');l[t]?e.style.border="none":e.style.border="1px solid red"}}();a='Game Over! <span class="sad">ðŸ˜–</span>'}a||(clearInterval(c),a='<span class="tada tada-1">ðŸŽ‰</span> Congratulations! <span class="tada tada-2">ðŸŽ‰</span>'),t.innerHTML=a,e.classList.add("z-32")}function s(){var e=document.querySelectorAll("#puzzlePieces [data-image]"),t=300;return clearInterval(c),e.forEach(e=>{var a=e.dataset.image,n=document.querySelector('[data-piece="'+a+'"]');e.removeAttribute("ondragstart"),e.removeAttribute("draggable"),setTimeout(()=>{e.classList.add("o-0"),e.classList.remove("p-5")},t-100),setTimeout(()=>{n.appendChild(e),e.classList.remove("o-0")},t),t+=100}),{timeout:t,images:e}}var o,c,u=0,l={};window.dragStartHandler=function(e){e.target;e.dataTransfer.setData("text/plain",e.target.id),e.dataTransfer.dropEffect="move"},document.addEventListener("click",function(e){var t=e.target;if(t){if("beginPuzzle"===t.getAttribute("id")&&a(e.target),"resetPuzzle"===t.getAttribute("id")&&function(){var e=s();clearInterval(c),setTimeout(()=>{n(e.images)},e.timeout)}(),"tryAgain"===t.getAttribute("id")){var r=document.querySelectorAll("[data-image]"),d=document.getElementById("gameOver");n(r),d.classList.remove("z-32")}"solvePuzzle"===t.getAttribute("id")&&s()}}),document.addEventListener("mousedown",function(e){var t=e.target;t&&"hintButton"===t.getAttribute("id")&&function(e){var t,a=document.getElementById("solvedPuzzle");e.getAttribute("disabled","true")||(u>0&&(a.classList.remove("hidden"),a.classList.add("z-30")),0!==u?(e.onmouseup=function(e){a.classList.add("hidden"),a.classList.remove("z-30")},t=t=1!=--u?u+" Hints":u+" Hint",e.textContent=t):e.setAttribute("disabled","true"))}(t)}),document.addEventListener("change",function(e){!function(e){var t=document.querySelectorAll('input[type="radio"]');for(var a of t)a.parentElement.classList.remove("checked");e.parentElement.classList.add("checked")}(e.target)}),document.addEventListener("dragover",function(e){var t=e.target;(t.dataset.piece||"puzzlePieces"===t.getAttribute("id"))&&function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}(e)}),document.addEventListener("drop",function(e){var a=e.target;(a.dataset.piece||"puzzlePieces"===a.getAttribute("id"))&&t(e)})}();